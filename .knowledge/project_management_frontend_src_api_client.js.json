{"is_source_file": true, "format": "JavaScript", "description": "This file defines a minimal API client for communicating with an Express backend server. It includes configuration for the base URL, automatic inclusion of Bearer tokens for authentication, error handling via a custom ApiError class, and a function for making API requests with JSON handling and response validation.", "external_files": ["fetch API (built-in, part of browsers or node-fetch in Node.js)"], "external_methods": ["fetch"], "published": ["ApiError", "apiRequest"], "classes": [{"name": "ApiError", "description": "Custom error class to represent API response errors, including HTTP status and details."}], "methods": [{"name": "getApiBaseUrl()", "description": "Determines the base URL for API requests, allowing configuration via environment variable or default.", "scope": "", "scopeKind": ""}, {"name": "parseJsonSafely(response)", "description": "Safely parses JSON from a fetch response, returning null if parsing fails or content type is not JSON.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, { method = 'GET', token, body, query, headers } = {})", "description": "Performs an HTTP request to the backend API with support for method, headers, query parameters, body, and token, returning parsed JSON data or throwing an ApiError on failure.", "scope": "", "scopeKind": ""}, {"name": "constructor(message, { status, details } = {})", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}], "calls": ["fetch", "getApiBaseUrl", "parseJsonSafely"], "search-terms": ["apiRequest", "ApiError", "client.js", "fetch", "Bearer token", "environment variable"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "Accept", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^    Accept: 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.reqHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^export class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "DEFAULT_BASE_URL", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^const DEFAULT_BASE_URL = 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^export async function apiRequest(path, { method = 'GET', token, body, query, headers } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', token, body, query, headers } = {})"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^  constructor(message, { status, details } = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, { status, details } = {})", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parseJsonSafely", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^async function parseJsonSafely(response) {$/", "language": "JavaScript", "kind": "function", "signature": "(response)"}, {"_type": "tag", "name": "reqHeaders", "path": "/home/kavia/workspace/code-generation/collaboratepro-311918-311929/project_management_frontend/src/api/client.js", "pattern": "/^  const reqHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}], "hash": "be704d9060b7326ebb7851b23c0e13fd", "format-version": 4, "code-base-name": "project_management_frontend", "filename": "project_management_frontend/src/api/client.js", "fields": [{"name": "Accept: 'application\\/json',", "scope": "apiRequest.reqHeaders", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": ""}]}